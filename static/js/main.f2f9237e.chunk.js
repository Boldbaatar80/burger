(this.webpackJsonpburger=this.webpackJsonpburger||[]).push([[0],[,,,,,function(e,t,n){e.exports={BreadTop:"style_BreadTop__2fm-m",Seed:"style_Seed__1OYx0",Second:"style_Second__1H1ai",Third:"style_Third__2ltBg",Fourth:"style_Fourth__33hVW",Salad:"style_Salad__1Gdpv",Meat:"style_Meat__3yKlA",Cheese:"style_Cheese__1HsEw",Bacon:"style_Bacon__2WvxK",BreadBottom:"style_BreadBottom__2CYtk"}},,,,,,,,,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(34),c=n.n(o);t.a=function(e){return a.a.createElement("button",{onClick:e.daragdsan,className:"".concat(c.a.Button," ").concat(c.a[e.btnType])},e.text)}},function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return s}));var r=n(17),a=n.n(r),o=(n(19),function(e,t){return function(n){n(c());var r={email:e,password:t,returnSecureToken:!0};a.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyBsf8e6g9PqpsYm2U8uxGYN91wbo4ulTfw",r).then((function(e){var t=e.data.idToken,r=e.data.localId;localStorage.setItem("token",t),localStorage.setItem("userId",r),n(u(t,r))})).catch((function(e){n(i(e))}))}}),c=function(){return{type:"SIGNUP_USER_START"}},u=function(e,t){return{type:"SIGNUP_USER_SUCCESS",token:e,userId:t}},i=function(e){return{type:"SIGNUP_USER_ERROR",error:e}},l=function(){return localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("expireDate"),localStorage.removeItem("refreshToken"),{type:"LOGOUT"}},s=function(e){return function(t){setTimeout((function(){t(l())}),e)}}},,,function(e,t,n){e.exports={SideBar:"style_SideBar__3aBYn",Open:"style_Open__17i7_",Close:"style_Close__jsbaS",Logo:"style_Logo__24-bf"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return i}));var r=n(17),a=n.n(r),o=n(15),c=function(e,t){return function(n){n(u());var r={email:e,password:t,returnSecureToken:!0};a.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyBsf8e6g9PqpsYm2U8uxGYN91wbo4ulTfw",r).then((function(e){var t=e.data.idToken,r=e.data.localId,a=e.data.expiresIn,c=new Date((new Date).getTime()+1e3*a),u=e.data.refreshToken;localStorage.setItem("token",t),localStorage.setItem("userId",r),localStorage.setItem("expireDate",c),localStorage.setItem("refreshToken",u),n(i(t,r)),n(o.a(1e3*a))})).catch((function(e){n(l(e))}))}},u=function(){return{type:"LOGIN_USER_START"}},i=function(e,t){return{type:"LOGIN_USER_SUCCESS",token:e,userId:t}},l=function(e){return{type:"LOGIN_USER_ERROR",error:e}}},,,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(56),c=n.n(o);t.a=function(){return a.a.createElement("div",{className:c.a.Loader})}},,,function(e,t,n){"use strict";var r=n(17),a=n.n(r).a.create({baseURL:"https://burger-1d6d2.firebaseio.com/"});t.a=a},,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(3),c=n(5),u=n.n(c),i=function(e){return"bread-top"===e.type?a.a.createElement("div",{className:u.a.BreadTop},a.a.createElement("div",{className:u.a.Seed}),a.a.createElement("div",{className:"".concat(u.a.Seed," ").concat(u.a.Second)}),a.a.createElement("div",{className:"".concat(u.a.Seed," ").concat(u.a.Third)}),a.a.createElement("div",{className:"".concat(u.a.Seed," ").concat(u.a.Fourth)})):"salad"===e.type?a.a.createElement("div",{className:u.a.Salad}):"bacon"===e.type?a.a.createElement("div",{className:u.a.Bacon}):"meat"===e.type?a.a.createElement("div",{className:u.a.Meat}):"cheese"===e.type?a.a.createElement("div",{className:u.a.Cheese}):"bread-bottom"===e.type?a.a.createElement("div",{className:u.a.BreadBottom}):a.a.createElement("div",null,"...")},l=n(54),s=n.n(l),d=n(13);t.a=Object(o.b)((function(e){return{orts:e.burgerReducer.ingredients}}))(Object(d.g)((function(e){var t=Object.entries(e.orts),n=[];return t.map((function(e){for(var t=0;t<e[1];t++)n.push(a.a.createElement(i,{key:"".concat(e[0]).concat(t+1),type:e[0]}))})),0===n.length&&(n=a.a.createElement("p",null,"\u0425\u0430\u0447\u0438\u0440\u0442\u0430\u0439 \u0442\u0430\u043b\u0445\u043d\u044b\u0445\u0430\u0430 \u043e\u0440\u0446\u044b\u0433 \u0441\u043e\u043d\u0433\u043e\u043d\u043e \u0443\u0443...")),a.a.createElement("div",{className:s.a.Burger},a.a.createElement(i,{type:"bread-top"}),n,a.a.createElement(i,{type:"bread-bottom"}))})))},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return l}));var r=n(25),a=function(e){return function(t,n){t(c());var a=n().signupReducer.token;r.a.get("orders.json?&auth=".concat(a,'&orderBy="userId"&equalTo="').concat(e,'"')).then((function(e){var n=Object.entries(e.data).reverse();t(u(n))})).catch((function(e){return t(i(e))}))}},o=function(){return{type:"CLEAR_ORDER"}},c=function(){return{type:"LOAD_ORDERS_START"}},u=function(e){return{type:"LOAD_ORDERS_SUCCESS",orders:e}},i=function(e){return{type:"LOAD_ORDERS_ERROR",error:e}},l=function(e){return function(t,n){t(s());var a=n().signupReducer.token;r.a.post("/orders.json?auth=".concat(a),e).then((function(e){t(d())})).catch((function(e){t(g(e))}))}},s=function(){return{type:"SAVE_ORDER_START"}},d=function(){return{type:"SAVE_ORDER_SUCCESS"}},g=function(e){return{type:"SAVE_ORDER_ERROR",errorMessage:e}}},,function(e,t,n){e.exports={Toolbar:"style_Toolbar__1HD7X",HideOnMobile:"style_HideOnMobile__1bJaf"}},function(e,t,n){e.exports={MenuItem:"style_MenuItem__1XSod",active:"style_active__Gf7QP"}},,,function(e,t,n){e.exports={Button:"style_Button__2Jbyu",Success:"style_Success__3ogRm",Danger:"style_Danger__qU0W2"}},,,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(53),c=n.n(o);t.a=function(e){return e.show?a.a.createElement("div",{onClick:e.darahad,className:c.a.Shadow}):null}},,,,,,,,,,function(e,t,n){e.exports={Content:"style_Content__1WXN4"}},function(e,t,n){e.exports=n.p+"static/media/burger-logo.b8503d26.png"},function(e,t,n){e.exports={Logo:"style_Logo__3mLXK"}},function(e,t,n){e.exports={Menu:"style_Menu__10P_y"}},,function(e,t,n){e.exports={HamburgerMenu:"style_HamburgerMenu__17ocJ"}},function(e,t,n){e.exports={Shadow:"style_Shadow__1whBh"}},function(e,t,n){e.exports={Burger:"style_Burger__2ZTff"}},function(e,t,n){e.exports={Login:"style_Login__242dg"}},function(e,t,n){e.exports={Loader:"style_Loader__cNN9D",load1:"style_load1__2zo-n"}},function(e,t,n){e.exports={ShippingPage:"style_ShippingPage__3G5A_"}},function(e,t,n){e.exports={ContactData:"style_ContactData__1qs6f"}},,function(e,t,n){e.exports=n(88)},,,,,function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(23),c=n.n(o),u=(n(65),n(11)),i=n(13),l=n(3),s=n(47),d=n.n(s),g=n(30),m=n.n(g),f=n(48),E=n.n(f),_=n(49),p=n.n(_),S=function(){return a.a.createElement("div",{className:p.a.Logo},a.a.createElement("img",{src:E.a}))},b=n(50),O=n.n(b),h=n(8),v=n(31),R=n.n(v),y=function(e){return a.a.createElement("li",{className:R.a.MenuItem},a.a.createElement(h.b,{exact:e.exact,activeClassName:R.a.active,to:e.link},e.children))},I=Object(l.b)((function(e){return{userId:e.signupReducer.userId}}))((function(e){return a.a.createElement("div",null,a.a.createElement("ul",{className:O.a.Menu},e.userId?a.a.createElement(r.Fragment,null,a.a.createElement(y,{exact:!0,link:"/"},"\u0428\u0418\u041d\u042d \u0417\u0410\u0425\u0418\u0410\u041b\u0413\u0410"),a.a.createElement(y,{link:"/orders"},"\u0417\u0410\u0425\u0418\u0410\u041b\u0413\u0410\u041d\u0423\u0423\u0414"),a.a.createElement(y,{link:"/logout"},"\u0413\u0410\u0420\u0410\u0425")):a.a.createElement(r.Fragment,null,a.a.createElement(y,{link:"/login"},"\u041d\u042d\u0412\u0422\u0420\u042d\u0425"),a.a.createElement(y,{link:"/signup"},"\u0411\u04ae\u0420\u0422\u0413\u04ae\u04ae\u041b\u042d\u0425"))))})),N=n(52),j=n.n(N),w=function(e){return a.a.createElement("div",{onClick:e.toggleSideBar,className:j.a.HamburgerMenu},a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null))},T=function(e){return a.a.createElement("header",{className:m.a.Toolbar},a.a.createElement(w,{toggleSideBar:e.toggleSideBar}),a.a.createElement(S,null),a.a.createElement("nav",{className:m.a.HideOnMobile},a.a.createElement(I,null)))},C=n(18),k=n.n(C),D=n(37),x=function(e){var t=[k.a.SideBar,k.a.Close];return e.showSidebar&&(t=[k.a.SideBar,k.a.Open]),a.a.createElement("div",null,a.a.createElement(D.a,{show:e.showSidebar,darahad:e.toggleSideBar}),a.a.createElement("div",{onClick:e.toggleSideBar,className:t.join(" ")},a.a.createElement("div",{className:k.a.Logo},a.a.createElement(S,null)),a.a.createElement(I,null)))},B=n(27),L=n(14),U=n(55),A=n.n(U),M=n(19),P=n(22),G=Object(l.b)((function(e){return{logginIn:e.signupReducer.logginIn,firebaseError:e.signupReducer.firebaseError,firebaseErrorCode:e.signupReducer.firebaseErrorCode,userId:e.signupReducer.userId}}),(function(e){return{login:function(t,n){return e(M.a(t,n))}}}))((function(e){var t=Object(r.useState)(""),n=Object(u.a)(t,2),o=n[0],c=n[1],l=Object(r.useState)(""),s=Object(u.a)(l,2),d=s[0],g=s[1];return a.a.createElement("div",{className:A.a.Login},e.userId&&a.a.createElement(i.a,{to:"/orders"}),a.a.createElement("input",{onChange:function(e){c(e.target.value)},type:"text",placeholder:"\u0418\u043c\u044d\u0439\u043b \u0445\u0430\u044f\u0433"}),a.a.createElement("input",{onChange:function(e){g(e.target.value)},type:"password",placeholder:"\u041d\u0443\u0443\u0446 \u04af\u0433"}),e.logginIn&&a.a.createElement(P.a,null),e.firebaseError&&a.a.createElement("div",{style:{color:"red"}},e.firebaseError," \u043a\u043e\u0434 \u043d\u044c : ",e.firebaseErrorCode),a.a.createElement(L.a,{text:"\u041b\u041e\u0413\u0418\u041d",btnType:"Success",daragdsan:function(){e.login(o,d)}}))})),H=n(15),V=Object(l.b)(null,(function(e){return{logout:function(){return e(H.b())}}}))((function(e){return Object(r.useEffect)((function(){e.logout()}),[]),a.a.createElement(i.a,{to:"/"})})),z=n(57),F=n.n(z),W=n(58),Y=n.n(W),X=(n(25),n(28)),q=Object(l.b)((function(e){return{price:e.burgerReducer.totalPrice,ingredients:e.burgerReducer.ingredients,newOrderStatus:e.orderReducer.newOrder,userId:e.signupReducer.userId}}),(function(e){return{saveOrderAction:function(t){return e(X.c(t))},clearOrder:function(){return e(X.a())}}}))(Object(i.g)((function(e){var t=Object(r.useState)(),n=Object(u.a)(t,2),o=n[0],c=n[1],i=Object(r.useState)(),l=Object(u.a)(i,2),s=l[0],d=l[1],g=Object(r.useState)(),m=Object(u.a)(g,2),f=m[0],E=m[1];Object(r.useEffect)((function(){return e.newOrderStatus.finished&&!e.newOrderStatus.error&&e.history.replace("/orders"),function(){e.clearOrder()}}),[e.newOrderStatus.finished]);return console.log(e),a.a.createElement("div",{className:Y.a.ContactData},"\u0414\u04af\u043d : ",e.price,"\u20ae",a.a.createElement("div",null,e.newOrderStatus.error&&"\u0417\u0430\u0445\u0438\u0430\u043b\u0433\u044b\u0433 \u0445\u0430\u0434\u0433\u0430\u043b\u0430\u0445 \u044f\u0432\u0446\u0430\u0434 \u0430\u043b\u0434\u0430\u0430 \u0433\u0430\u0440\u043b\u0430\u0430 : ".concat(e.newOrderStatus.error)),e.newOrderStatus.saving?a.a.createElement(P.a,null):a.a.createElement("div",null,a.a.createElement("input",{onChange:function(e){c(e.target.value)},type:"text",name:"name",placeholder:"\u0422\u0430\u043d\u044b \u043d\u044d\u0440"}),a.a.createElement("input",{onChange:function(e){E(e.target.value)},type:"text",name:"street",placeholder:"\u0422\u0430\u043d\u044b \u0433\u044d\u0440\u0438\u0439\u043d \u0445\u0430\u044f\u0433"}),a.a.createElement("input",{onChange:function(e){d(e.target.value)},type:"text",name:"city",placeholder:"\u0422\u0430\u043d\u044b \u0445\u043e\u0442"}),a.a.createElement(L.a,{text:"\u0418\u041b\u0413\u042d\u042d\u0425",btnType:"Success",daragdsan:function(){var t={userId:e.userId,orts:e.ingredients,dun:e.price,hayag:{name:o,city:s,street:f}};e.saveOrderAction(t)}})))}))),J=Object(l.b)((function(e){return{price:e.burgerReducer.totalPrice}}))((function(e){return a.a.createElement("div",{className:F.a.ShippingPage},a.a.createElement("p",{style:{fontSize:"24px"}},a.a.createElement("strong",null,"\u0422\u0430\u043d\u044b \u0437\u0430\u0445\u0438\u0430\u043b\u0433\u0430 \u0430\u043c\u0442\u0442\u0430\u0439 \u0431\u0430\u0439\u0445 \u0431\u043e\u043b\u043d\u043e \u0433\u044d\u0436 \u043d\u0430\u0439\u0434\u0430\u0436 \u0431\u0430\u0439\u043d\u0430...")),a.a.createElement("p",{style:{fontSize:"24px"}},a.a.createElement("strong",null,"\u0414\u04af\u043d : ",e.price,"\u20ae")),a.a.createElement(B.a,null),a.a.createElement(L.a,{daragdsan:function(){e.history.goBack()},btnType:"Danger",text:"\u0417\u0410\u0425\u0418\u0410\u041b\u0413\u042b\u0413 \u0426\u0423\u0426\u041b\u0410\u0425"}),a.a.createElement(L.a,{daragdsan:function(){e.history.replace("/ship/contact")},btnType:"Success",text:"\u0425\u04ae\u0420\u0413\u042d\u041b\u0422\u0418\u0419\u041d \u041c\u042d\u0414\u042d\u042d\u041b\u042d\u041b \u041e\u0420\u0423\u0423\u041b\u0410\u0425"}),a.a.createElement(i.b,{path:"/ship/contact"},a.a.createElement(q,null)))})),K=a.a.lazy((function(){return n.e(3).then(n.bind(null,96))})),Q=a.a.lazy((function(){return n.e(4).then(n.bind(null,97))})),Z=a.a.lazy((function(){return n.e(5).then(n.bind(null,95))})),$=Object(l.b)((function(e){return{userId:e.signupReducer.userId}}),(function(e){return{autoLogin:function(t,n){return e(M.b(t,n))},logout:function(){return e(H.b())},autoLogoutAfterMillisec:function(){return e(H.a())}}}))((function(e){var t=Object(r.useState)(!1),n=Object(u.a)(t,2),o=n[0],c=n[1];Object(r.useEffect)((function(){var t=localStorage.getItem("token"),n=localStorage.getItem("userId"),r=new Date(localStorage.getItem("expireDate"));localStorage.getItem("refreshToken");t&&(r>new Date?(e.autoLogin(t,n),e.autoLogoutAfterMillisec(r.getTime()-(new Date).getTime())):e.logout())}),[]);var l=function(){c((function(e){return!e}))};return a.a.createElement("div",null,a.a.createElement(T,{toggleSideBar:l}),a.a.createElement(x,{showSidebar:o,toggleSideBar:l}),a.a.createElement("main",{className:d.a.Content},a.a.createElement(r.Suspense,{fallback:a.a.createElement("div",null,"\u0422\u04af\u0440 \u0445\u04af\u043b\u044d\u044d\u043d\u044d \u04af\u04af")},e.userId?a.a.createElement(i.d,null,a.a.createElement(i.b,{path:"/logout",component:V}),a.a.createElement(i.b,{path:"/orders",component:Q}),a.a.createElement(i.b,{path:"/ship",component:J}),a.a.createElement(i.b,{path:"/",component:K})):a.a.createElement(i.d,null,a.a.createElement(i.b,{path:"/signup",component:Z}),a.a.createElement(i.b,{path:"/login",component:G}),a.a.createElement(i.a,{to:"/login"})))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ee=n(12),te=n(59),ne=n(21),re=n(2),ae={ingredients:{salad:0,cheese:0,bacon:0,meat:0},totalPrice:1e3,purchasing:!1,ingredientNames:{bacon:"\u0413\u0430\u0445\u0430\u0439\u043d \u043c\u0430\u0445",cheese:"\u0411\u044f\u0441\u043b\u0430\u0433",meat:"\u04ae\u0445\u0440\u0438\u0439\u043d \u043c\u0430\u0445",salad:"\u0421\u0430\u043b\u0430\u0434"}},oe={salad:150,cheese:250,bacon:800,meat:1500},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;if("ADD_INGREDIENT"===t.type)return Object(re.a)({},e,{ingredients:Object(re.a)({},e.ingredients,Object(ne.a)({},t.ortsNer,e.ingredients[t.ortsNer]+1)),totalPrice:e.totalPrice+oe[t.ortsNer],purchasing:!0});if("REMOVE_INGREDIENT"===t.type){var n=e.totalPrice-oe[t.ortsNer];return Object(re.a)({},e,{ingredients:Object(re.a)({},e.ingredients,Object(ne.a)({},t.ortsNer,e.ingredients[t.ortsNer]-1)),totalPrice:n,purchasing:n>1e3})}return"CLEAR_ORDER"===t.type?ae:e},ue={orders:[],loading:!1,error:null,newOrder:{saving:!1,finished:!1,error:null}},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLEAR_ORDER":return Object(re.a)({},e,{newOrder:{saving:!1,finished:!1,error:null}});case"LOAD_ORDERS_START":return Object(re.a)({},e,{loading:!0});case"LOAD_ORDERS_SUCCESS":return Object(re.a)({},e,{loading:!1,orders:t.orders});case"LOAD_ORDERS_ERROR":return Object(re.a)({},e,{loading:!1,error:t.error});case"SAVE_ORDER_START":return Object(re.a)({},e,{newOrder:Object(re.a)({},e.newOrder,{saving:!0})});case"SAVE_ORDER_SUCCESS":return Object(re.a)({},e,{newOrder:Object(re.a)({},e.newOrder,{saving:!1,finished:!0,error:null})});case"SAVE_ORDER_ERROR":return Object(re.a)({},e,{newOrder:Object(re.a)({},e.newOrder,{saving:!1,finished:!0,error:t.errorMessage})});default:return e}},le={saving:!1,logginIn:!1,firebaseError:null,firebaseErrorCode:null,token:null,userId:null},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGNUP_USER_START":return Object(re.a)({},e,{saving:!0});case"SIGNUP_USER_ERROR":return Object(re.a)({},e,{saving:!1,firebaseError:t.error.response.data.error.message});case"SIGNUP_USER_SUCCESS":return Object(re.a)({},e,{saving:!1,token:t.token,userId:t.userId});case"LOGIN_USER_START":return Object(re.a)({},e,{logginIn:!0});case"LOGIN_USER_ERROR":return Object(re.a)({},e,{logginIn:!1,firebaseError:t.error.response.data.error.message,firebaseErrorCode:t.error.response.data.error.code});case"LOGIN_USER_SUCCESS":return Object(re.a)({},e,{logginIn:!1,token:t.token,userId:t.userId});case"LOGOUT":return Object(re.a)({},e,{token:null,userId:null,firebaseError:null,firebaseErrorCode:null});default:return e}},de=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ee.d,ge=Object(ee.c)({burgerReducer:ce,orderReducer:ie,signupReducer:se}),me=[function(e){return function(t){return function(n){console.log("MyLoggerMiddleware: Dispatching ==> ",n),console.log("MyLoggerMiddleware: State BEFORE : ",e.getState());var r=t(n);return console.log("MyLoggerMiddleware: State AFTER : ",e.getState()),r}}},te.a],fe=Object(ee.e)(ge,de(ee.a.apply(void 0,me)));c.a.render(a.a.createElement(l.a,{store:fe},a.a.createElement(h.a,null,a.a.createElement($,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[60,1,2]]]);
//# sourceMappingURL=main.f2f9237e.chunk.js.map